
### [有了进程为什么还需要线程?](#有了进程为什么还需要线程)

- 进程切换是一个开销很大的操作，线程切换的成本较低。
- 线程更轻量，一个进程可以创建多个线程。
- 多个线程可以并发处理不同的任务，更有效地利用了多处理器和多核计算机。
- 而进程只能在一个时间干一件事，如果在执行过程中遇到阻塞问题比如 IO 阻塞就会挂起直到结果返回。
- 同一进程内的线程共享内存和文件，因此它们之间相互通信无须调用内核。
### [为什么要使用多线程?](https://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html#为什么要使用多线程)
**多核时代**: 多核时代多线程主要是为了提高进程利用多核 CPU 的能力。举个例子：假如我们要计算一个复杂的任务，我们只用一个线程的话，不论系统有几个 CPU 核心，都只会有一个 CPU 核心被利用到。
而创建多个线程，这些线程可以被映射到底层多个 CPU 上执行，在任务中的多个线程没有资源竞争的情况下，任务执行的效率会有显著性的提高，约等于（单核时执行时间/CPU 核心数）。

# 线程资源共享

- **可共享**：存储在堆或方法区的数据（静态变量、对象成员变量等），同一进程内的线程可以共享。
- **不可共享**：存储在栈内存的局部变量，每个线程私有，不共享。