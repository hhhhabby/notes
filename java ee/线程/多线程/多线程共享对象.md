多个线程需要操作同一个资源对象才能实现正确的线程间通信，通常有以下几种方法：
## 1. 共享对象传递
- **构造函数注入**：通过 `Constructor` 参数将共享资源传递给线程对象
```
class MyClass {
   int number;
   String name;
   // 这是一个构造函数
   MyClass() {
       number = 100;
       name = "默认名称";
   }
}
```
- **Setter 方法注入**：通过 `setter` 方法设置共享资源
- **字段直接赋值**：在创建线程对象后直接设置共享资源字段

## 2. 静态资源共享
- 使用 `static` 字段让多个线程访问同一个类级别的资源
- 适用于全局唯一的共享资源场景

## ~~3. 单例模式~~
- ~~通过 `Singleton` 模式确保只有一个资源实例~~
- ~~多个线程都获取同一个单例对象进行操作~~

## ~~4. 工厂模式~~
- ~~使用 `Factory` 创建和管理共享资源~~
- ~~通过工厂方法获取统一的资源实例~~

## 关于控制反转（IoC）

**控制反转确实算是一种方法**
比较麻烦

- **依赖注入**：将资源对象的创建控制权交给外部容器或调用者
- **解耦合**：线程类不需要关心资源对象的具体创建过程
- **灵活性**：便于替换不同的资源实现或进行测试

- 配置复杂：需要定义 Bean 和依赖关系
- 性能开销：容器初始化和管理开销
- 调试困难：依赖关系不够直观

控制反转本质上是上述共享对象传递方法的一种设计模式应用，使得代码更加灵活和可维护。