# 关于 Spring 作用域与生命周期的问答

问：Spring 的作用域（Scope）就是生命周期吗？两者到底是什么关系呀？  
答：不是哦，Spring 的**作用域**和**生命周期**是相关但不同的概念 —— 作用域更像是 “规定生命周期的范围和规则”，而生命周期是 Bean 从创建到销毁的完整过程。可以理解为：作用域定 “规矩”，生命周期是 “按规矩走的流程”。

  

问：那具体来说，什么是 Spring 的 “作用域（Scope）” 呢？  
答：作用域主要决定 3 件事：①Bean 在 Spring 容器中 “存在多久”；②“什么时候创建”；③“有多少个实例”。  
比如最常用的两种作用域：

  

- `singleton`（单例）：容器启动时创建 Bean，容器关闭时销毁，整个容器里只有 1 个实例，相当于 “一生只活一次，跟容器同生共死”；
- `prototype`（原型）：每次从容器里拿 Bean（比如用`getBean()`），都会新建 1 个实例，容器不管销毁，相当于 “每次用都新造一个，用完就不管了”。

  

问：那 “生命周期（Lifecycle）” 又具体指什么？  
答：生命周期是 Bean 从 “出生” 到 “死亡” 的完整流程，典型步骤是：

  

1. 实例化（相当于用`new`关键字造对象）；
2. 属性注入（给 Bean 的成员变量赋值，比如通过`@Autowired`注入依赖）；
3. 初始化（比如调用`@PostConstruct`注解的方法，做一些准备工作，比如加载配置）；
4. 被使用（业务代码中调用 Bean 的方法）；
5. 销毁（比如调用`@PreDestroy`注解的方法，做清理工作，比如关闭连接）。

  

问：那作用域和生命周期的具体关联是什么？能不能举个例子？  
答：作用域直接决定生命周期的 “表现形式”—— 不同作用域的 Bean，生命周期流程一样，但 “触发时机” 和 “持续时间” 完全不同。  
比如：

  

- 若 Bean 是`singleton`作用域：生命周期只走 1 次（容器启动时创建→初始化→一直能用→容器关了才销毁）；
- 若 Bean 是`prototype`作用域：每次获取 Bean 时，都会重新走一遍生命周期（新建实例→注入属性→初始化→给你用→你不用了就等着垃圾回收，容器不管销毁）。  
    简单说：作用域 “定了 Bean 活多久、活几次”，生命周期 “按这个规则走一遍流程”。