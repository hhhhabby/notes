# 为什么能看见网页？
背后的完整逻辑链
# 为什么你能看见前端？
当你在浏览器输入 `localhost:90` 后，流程是这样的：
1. 浏览器解析 `localhost` 为 `127.0.0.1`，确定要访问 “本地电脑”；
2. 浏览器通过 `90` 这个 “门牌号”，找到本地正在监听该端口的程序；
3. 这个监听 90 端口的程序（比如你之前开发的系统、或==本地部署的测试服务==）接收到请求，返回网页的 HTML/CSS/JS 内容；前端文件写在 nginx 里面的
4. 浏览器接收内容并渲染，最终显示出你看到的网页。

# Nginx 和 tomcat 的关系
##### 协作流程：请求如何 “流转”？

用户访问一个同时使用 Nginx 和 Tomcat 的网站时，请求会按以下逻辑处理：
1. **用户发起请求**：比如访问 `www.example.com`，请求先到达 Nginx（因为 Nginx 通常绑定 80/443 端口，是对外的 “入口”）。
2. **Nginx 判断请求类型**：
    - 如果是 **静态资源请求**（如访问 `www.example.com/index.html`），Nginx 直接从服务器本地读取文件，返回给用户，无需经过 Tomcat，速度极快。
    - 如果是 **动态请求**（如访问 `www.example.com/login`，需要执行 Java 登录逻辑），Nginx 通过 “反向代理” 将请求转发给后端的 Tomcat 处理。
3. **Tomcat 处理并返回**：Tomcat 执行 Java 代码、查询数据库后，生成动态页面（如包含用户信息的 HTML），将结果返回给 Nginx。
4. **Nginx 响应用户**：Nginx 再将 Tomcat 返回的动态内容转发给用户，完成一次请求。


用户忘记密码怎么办。


# 文件上传怎么控制。
断点续传


# 项目总结


### Day 11 - 02. 案例 - 文件上传 - 简介

1. **文件上传在 Java Web 开发中有哪些常见的应用场景？**  
    常见的有用户头像上传、文档资料上传、图片资源上传用于网站展示、音频视频文件上传等场景。
2. **实现文件上传功能，前端页面需要满足哪些基本要求？**  （三要素）
    前端需要有一个 `<input type="file">` 元素来让用户选择文件；
    表单的 `enctype` 属性需要设置为 `multipart/form - data`，以支持文件数据的传输。
    加上 method：post
3. **Java Web 中，文件上传的大致流程是怎样的？**  
    前端将包含文件的表单数据提交到后端；后端通过相关的文件上传组件（如 Apache Commons FileUpload）接收文件数据；然后对文件进行处理，如存储到指定位置等。

### Day 11 - 03. 案例 - 文件上传 - 本地存储

1. **实现文件本地存储时，如何指定文件在服务器上的存储路径？**  
    Demo 里面写入文件存储位置。
    TransferTo (File dest)
2. **存储文件时，为了避免文件名重复，通常会采用哪些策略？**  
    可以使用 UUID（通用唯一识别码）来生成唯一的文件名；
    或者结合时间戳和原始文件名来生成新的文件名，如 `yyyyMMddHHmmss_原始文件名`。
3. **当用户需要访问已上传的本地存储文件时，后端如何提供访问接口？**  
    后端可以配置一个资源映射，将存储文件的目录映射为一个虚拟路径，这样用户就可以通过该虚拟路径来访问对应的文件。例如，在 Spring Boot 中，可以通过配置 `ResourceHandler` 来实现。
### Day 11 - 04. 案例 - 文件上传 - 阿里云 OSS - 准备

1. **要使用阿里云 OSS 进行文件上传，需要提前进行哪些账号和权限相关的准备工作？**  
    需要注册阿里云账号，开通 OSS 服务；
    创建 AccessKey（访问密钥），用于身份验证；
    还需要创建 Bucket（存储空间），并为该 Bucket 设置合适的权限，如读写权限等。
2. **阿里云 OSS 中，Bucket（存储空间）的作用是什么，创建 Bucket 时需要注意哪些配置？**  
    Bucket 是用于存储对象（文件）的容器。
    创建 Bucket 时需要注意选择合适的地域（影响访问速度和费用）、存储类型（标准存储、低频访问存储等，对应不同的性能和成本）、访问权限（私有、公共读等）。
3. **在 Java 项目中，为了集成阿里云 OSS，需要引入哪些相关的依赖？**  
    需要引入阿里云 OSS 的 Java SDK 依赖，例如在 Maven 项目中，需要添加如下类似的依赖：

Xml

```xml
<dependency>
    <groupId>com.aliyun.oss</groupId>
    <artifactId>aliyun - oss - sdk</artifactId>
    <version>3.15.1</version>
</dependency>
```

### Day 11 - 05. 案例 - 文件上传 - 阿里云 OSS - 入门

1. **阿里云 OSS 中，Object（对象）的概念是什么，它和要上传的文件有什么关系？**  
    Object 是 OSS 中存储的基本单元，一个 Object 就对应着一个要上传的文件。可以把文件看作是 Object 的具体内容载体。
2. **使用阿里云 OSS 进行简单文件上传，核心的 Java 代码步骤是怎样的？**  
    首先创建 OSSClient 实例，
    设置好 endpoint、accessKeyId、accessKeySecret；然后调用 OSSClient 的 `putObject` 方法，指定 Bucket 名称、Object 名称以及要上传的文件输入流等参数，完成上传。
3. **上传文件到阿里云 OSS 后，如何获取该文件的访问 URL？**  
    可以通过 OSSClient 的 `generatePresignedUrl` 方法生成带签名的临时访问 URL，或者如果 Bucket 是公共读权限，也可以通过固定的 URL 格式（`https://Bucket名称.Endpoint/Object名称`）来访问。

### Day 11 - 06. 案例 - 文件上传 - 阿里云 OSS - 集成

1. **如何将阿里云 OSS 上传功能与 Java Web 项目的业务逻辑进行集成？**  
    可以将阿里云 OSS 的上传操作封装成一个工具类或者服务类，在项目需要进行文件上传的业务逻辑处（如新增商品时上传商品图片），调用该工具类或服务类的方法。
2. **在集成过程中，如何处理文件上传的异常情况，比如网络中断等？**  
    可以在代码中添加异常捕获逻辑，当捕获到网络相关异常时，可以进行重试操作，或者记录日志以便后续排查问题，同时向前端返回合适的错误提示。
3. **集成后，前端发起文件上传请求到后端，后端调用阿里云 OSS 服务的整个流程是怎样的？**  
    前端将文件数据提交到后端接口；
    后端接收到文件数据后，调用封装好的阿里云 OSS 上传服务；
    上传成功后，获取文件在 OSS 上的访问地址，然后将该地址等信息返回给前端，或者进行后续的业务处理（如将地址存入数据库）。



### Day 11 - 09. 案例 - 配置文件 - 参数配置化

1. **为什么要将项目中的参数进行配置化管理？**  
    方便参数的集中管理和修改，不需要修改代码就可以调整参数；提高项目的可维护性和灵活性，不同环境（开发、测试、生产）可以使用不同的配置。
2. **在 Java Web 项目中，常见的配置文件格式有哪些，各有什么特点？**  
    常见的有 properties 格式，特点是键值对形式，简单易读，但不支持复杂的嵌套结构；yml 格式，支持嵌套结构，可读性好，配置更简洁。
3. **以数据库连接参数为例，说明如何将其配置到配置文件中，并在代码中获取使用？**  
    在 properties 文件中可以配置：

  

Properties

```properties
jdbc.url=jdbc:mysql://localhost:3306/test
jdbc.username=root
jdbc.password=123456
```

  

在代码中，可以使用 `java.util.Properties` 类加载配置文件，然后通过 `getProperty` 方法获取对应的参数值，用于数据库连接的创建。

### Day 11 - 10. 案例 - 配置文件 - yml 配置文件

1. **yml 配置文件的语法规则有哪些，和其他配置文件格式（如 properties）相比有什么优势？**  
    语法规则：使用缩进表示层级关系，键值对用 `:` 分隔，字符串一般不需要引号。优势是支持复杂的嵌套结构，配置更加简洁、易读，能够更清晰地表达配置之间的层级关系。
2. **如何在 Java 项目中读取 yml 配置文件中的内容？**  
    可以使用第三方库，如 SnakeYAML 来解析 yml 文件；在 Spring Boot 项目中，也可以通过 `@Value` 注解或者 `@ConfigurationProperties` 注解来读取 yml 配置。
3. **假设配置文件中有嵌套结构的配置项，如何在代码中获取这些嵌套的配置值？**  
    例如 yml 配置：

  

Yml

```yml
database:
  mysql:
    url: jdbc:mysql://localhost:3306/test
    username: root
```

  

在 Spring Boot 中，使用 `@ConfigurationProperties(prefix = "database.mysql")` 注解到一个配置类上，然后该类中定义 `url` 和 `username` 属性，就可以获取到对应的嵌套配置值。

### Day 11 - 11. 案例 - 配置文件 - @ConfigurationProperties

1. **`@ConfigurationProperties` 注解的作用是什么，它通常和哪些其他注解一起使用？**  
    `@ConfigurationProperties` 注解用于将配置文件中的属性绑定到 Java 类的字段上。通常和 `@Component`（或其他表明 Bean 的注解，如 `@Configuration`）一起使用，以便 Spring 能够扫描到该类并进行属性绑定。
2. **如何使用 `@ConfigurationProperties` 将配置文件中的配置项绑定到 Java 类的属性上？**  
    首先创建一个 Java 类，在类上添加 `@ConfigurationProperties` 注解，并指定 `prefix`（配置项的前缀）；然后在类中定义与配置项对应的属性，并且提供 getter 和 setter 方法。
3. **使用 `@ConfigurationProperties` 时，需要注意哪些关于配置项命名和 Java 类属性命名的规则？**  
    配置项的命名如果是多个单词，通常使用短横线分隔（如 `file - upload.path`），而 Java 类的属性命名使用驼峰命名法（如 `fileUploadPath`），`@ConfigurationProperties` 会自动进行映射匹配。

### Day 12 - 01. 基础登录功能

1. **基础登录功能中，前端需要收集用户的哪些关键信息？**  
    通常需要收集用户名（或账号）和密码这两个关键信息。
2. **后端接收到用户登录信息后，如何与数据库中存储的用户信息进行校验？**  
    后端根据前端传递的用户名，从数据库中查询出对应的用户记录，然后将查询到的密码与前端传递的密码进行比对（通常密码是加密存储的，所以需要先对前端传递的密码进行相同方式的加密后再比对）。
3. **当用户登录成功后，通常会采用什么方式来维护用户的登录状态（如 Session、Token 等），各自的特点是什么？**  
    Session 方式：将用户信息存储在服务器端的 Session 中，通过 Session ID 与客户端交互，特点是服务器端管理方便，但在分布式环境下存在共享问题。Token 方式：生成一个包含用户信息的 Token 并返回给客户端，客户端后续请求携带 Token，服务器端验证 Token 有效性，特点是无状态，适合分布式环境，但需要注意 Token 的安全和过期管理。
    ![[Pasted image 20250908182224.png]]
# 增加员工：
注解 +方法
Insert into () values ()；

# 查询员工 ：
注解 +方法
select count(*) from emp

# 删除员工 ：
信息回溯
依据 id 删除，动态 SQL，

# 修改员工 ：
1.先信息回溯
2.再在三层架构里面，基于动态 sql 即不是基于注解开发。Mapper 层只是写方法，Sql 里面具体才进行方法的处理
进行插入更新



### Day 11 - 01. 案例 - 员工管理 - 新增员工

1. **在新增员工功能中，前端需要传递哪些关键数据到后端？**  
    通常需要传递员工的姓名、性别、职位、入职日期等关键信息到后端。
2. **后端接收前端传递的数据后，通常会进行哪些数据校验操作？**  
    会进行非空校验，确保必要字段不为空；
    数据格式校验，比如年龄是否为合法的数字格式；
    还可能有业务规则校验，例如职位是否在系统预设的职位列表中等。
3. **从数据库操作角度看，新增员工涉及到哪些 SQL 操作，对应的 Java 代码大概是怎样的结构？**  
    涉及到 `INSERT` 类型的 SQL 操作。Java 代码中，一般会使用 JDBC 或者持久层框架（如 MyBatis、Hibernate），先创建对应的员工实体对象，设置好各属性值，然后通过框架的 API 执行插入操作，将实体对象映射到数据库表中。
# 部门操作
全部都是基于注解
外加一个查询全部部门的方法，用于分页操作


# 数据传输
前端与后端之间：
主要使用 JSON (JavaScript Object Notation) 格式进行数据传输

后端与数据库之间：
数据通常以 SQL 查询语句的形式进行交互



# Mybatis 入门/数据库交互 mybatis
简化：参数配置化


# 控制类 ：controller
（用 `@Controller` 或 `@RestController` 注解）
`@PathVariable` /requestMapping

# Controller 与 restcontroller 的区别
@RestController 是 @Controller 和 @ResponseBody 的组合注解，用于创建 RESTful 风格的 API。
返回的数据
@RestController 返回的数据（JSON 或 XML）
@Controller 用于传统的 MVC 架构，默认请求并返回视图。
@Controller + @ResponseBody 返回数据

传统的 springMVC 一般就需要直接返回视图，而现在新兴的前端技术 vue 在项目中为前后端分离的架构，前端框架负责处理数据和渲染页面，而后端 API 则负责提供数据即可，所以对返回视图的要求也就比较少了



# 如何部署 springboot

父类


# Springboot 如何启动

约定大于配置