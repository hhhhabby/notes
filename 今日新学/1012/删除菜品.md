难点不在于依据 id 删除
1. 批量删除
2. 删除后，关联的口味数据也需要删除


3. 套餐里面的菜品不能删除
4. 起售不能删除


@Transactional  
@Override  
public void deleteBatch(List<Long> ids) {  
  
    //先查询菜品，遍历出id  
    for (Long id : ids) {  
        Dish dish = dishMapper.getByDishId(id);  
        //判断当前菜品是否起售  
        if (dish.getStatus() == StatusConstant.ENABLE) {  
            throw new DeletionNotAllowedException(MessageConstant.DISH_ON_SALE);  
        }  
    }  
  
    //再判断当前分类是否关联了套餐，如果关联了就抛出业务异常  
    List<Long> setmealIdsByDishIds = setmealDishMapper.getSetmealIdsByDishIds(ids);  
    if (setmealIdsByDishIds != null && setmealIdsByDishIds.size() > 0) {  
        //如果存在菜品被套餐关联了，就抛出业务异常  
        throw new DeletionNotAllowedException(MessageConstant.CATEGORY_BE_RELATED_BY_SETMEAL);  
    }

如何去解析 1.2.3


为什么要去切换