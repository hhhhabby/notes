What
思想

Where
被使用者：控制
使用者：注入

How：
- **Bean 创建**：扫描 `@Component / @Configuration + @Bean` 等，生成并实例化 Bean。
    
- **依赖注入**：根据类型/名称把需要的依赖塞进来（`@Autowired/@Resource`）。

怎么做：@三大注解

# 底层逻辑 ：

### 整个过程就像 “汽车工厂造汽车”：

- **IOC 容器 = 汽车工厂**
- **反射 = 工厂里的 “万能工具”（能拧螺丝、焊零件、查图纸）**
- **对象（Bean）= 汽车**

### 步骤拆解（对应工厂流程）：

1. **创建 BeanFactory 容器**
    → 工厂先建好厂房和生产线（空架子，还没开始造车）。
    （反射还没用到）
2. **加载配置→封装成 BeanDefinition**
    → 工厂拿到 “造车图纸”（记录：用什么零件、零件型号、怎么组装）。
    - 比如 “造 UserService 汽车”，图纸写着 “用 com.example.UserService 型号的零件，需要 UserDao 零件当配件”。
    - **反射作用**：扫描仓库找零件（类），确认零件存在、能用来造车（读类的基本信息）。
3. **预处理（改图纸 + 备工具）**
    → 工厂根据实际需求改图纸（比如把 “用普通轮胎” 改成 “用防爆胎”），并准备好组装工具（比如拧螺丝的扳手、焊接枪）。
    - **反射作用**：改图纸时，用工具（反射）查零件细节（比如轮胎尺寸）。
    - 准备的 “扳手” 就是 BeanPostProcessor（后面用来给汽车装配件、做增强）。
4. **实例化**
    → 按图纸用零件造个 “车架子”（只有外壳，没装轮子、方向盘）。
    - **反射作用**：用 “万能工具”（反射）根据图纸型号（类全路径），把零件拼出车架子（`Class.forName()` + `newInstance()` 动态创建对象）。
5. **初始化**
    → 给车架子装配件（轮子、方向盘），加润滑油（执行初始化逻辑），最后喷个漆（AOP 增强，比如加个导航）。
    - **反射作用**：
        - 装配件：用工具（反射）把 UserDao 零件塞进 UserService 车架子（给属性赋值）；
        - 加润滑油：用工具（反射）启动发动机试一下（调用初始化方法）；
        - 喷漆：用工具（反射）给车加个新功能（生成代理对象，比如事务增强）。
6. **获取完整对象**
    → 造好的汽车入库，谁要就直接开（`getBean()` 取对象用）。

### IOC 的优势核心总结：

1. **极致提效：省去手动管理对象的重复工作**
    
    不用写 `new 类()` 造对象，不用手动给对象的依赖赋值（比如 `A.setB(new B())`），这些机械操作全由容器自动完成，开发者能专注于业务逻辑，而非 “组装对象”。
    
1. **统一管控：==让对象生命周期更规范稳定**==
    
    容器按标准化流程管理对象的 “出生（创建）、成长（初始化）、死亡（销毁）”，全部交给反射完成
    
2. **灵活易扩展：==低侵入式增强功能**==
    
    通过依赖注入，测试时能轻松用 “假对象”（Mock）替换真实依赖（如数据库），不用改业务代码；还能通过容器扩展机制（如 BeanPostProcessor），在不修改原有类的前提下，给所有对象批量加日志、做校验等，符合 “改扩展不改代码” 的设计原则。靠反射这把工具，不用手动敲螺丝（写`new`、`set`代码），工厂全自动搞定。


# Bean 循环依赖怎么解决？
